<!DOCTYPE html>
<html>
    <head>
        <title>Time-Distance Graph Generator!</title>
        <!-- bootstrap css -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

        <!-- hamburger menu bar -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

        <link rel="stylesheet" href="general_headways.css">


    </head>
    <body>
        <script src="general_headways.js">
        </script>
          <div id="settings_menu" class="dropdown" style="text-align: right;">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                &#9881 General Settings
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1"  >
                <div class="form-check">
                <li>
                    <label class="form-check-label" for="flexCheckChecked">
                        Dwell time (s):
                    </label>
                    <input id="dwell_time" class="xm" type="number" value="30" placeholder="Default is set to 30s" onclick="settings()">

                </li>
                <li>
                    <label class="form-check-label" for="flexCheckChecked">
                        sighting time (s):
                    </label>
                    <input id="sighting_time" class="xm" type="number" value="15" placeholder="Default is set to 15s" onclick="settings()">
                </li>
                <li>
                    <label class="form-check-label" for="flexCheckChecked">
                        Medium speed (4 aspect signalling):
                    </label>
                    <input id="med_speed" class="xm" min="0" type="number" value="" placeholder="Default is 1/2 linespeed" onclick="settings()">

                </li>
                <li>
                    <label class="form-check-label" for="flexCheckChecked">
                        Train Length (m):
                    </label>
                    <input id="Train_len" class="xm" min="0" type="number" value="" placeholder="set by train type" onclick="settings()">

                </li>
                <li>
                    <label class="form-check-label" for="flexCheckChecked">
                        Overlap Safety Margin(%):
                    </label>
                    <input id="Olap_marg" class="xm" type="number" value="0" placeholder="Default is set to 0" onclick="settings()">

                </li>
                <li>
                    <label class="form-check-label" for="flexCheckChecked">
                        Signal Spacing Safety Margin(%):
                    </label>
                    <input id="sig_space_marg" class="xm" type="number" value="0" placeholder="Default is set to 0" onclick="settings()">

                <!-- </li>

                <select id="colours" onchange="selectColor();">
                    <option value="table-success">braking</option>
                    <option value="table-light">acceleration</option>
                    <option value="table-danger">constant</option>
                </select>
    
            </li>--->
            </ul>

        </div>
        <h2>Basic Headway Calculator</h2>

          <div class="grid-container">

          <!-- THIS IS NOT CURRENTLY WORKING -->
          <div class="grid-item">
          <div id="settings_menu" class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                &#128646; Select Train
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1"  >
                <div class="form-check">
                <li>
                    <input id="EMU_train_type" name="train_select" class="form-check-input" type="radio" value="" onclick="train_select()">
                    <label class="form-check-label" for="flexCheckChecked">
                        EMU
                    </label>
                </li>
                <li>
                    <input id="HCMT_train_type" name="train_select" class="form-check-input" type="radio" value="" onclick="train_select()">
                    <label class="form-check-label" for="flexCheckChecked">
                        HCMT
                    </label>
                </li>
                <li>
                    <input id="Xtrap_train_type" name="train_select" class="form-check-input" type="radio" value="" onclick="train_select()">
                    <label class="form-check-label" for="flexCheckChecked">
                        X'trapolis
                    </label>
                </li>
                <li>
                    <input id="Vlocity_train_type" name="train_select" class="form-check-input" type="radio" value="" onclick="train_select()">
                    <label class="form-check-label" for="flexCheckChecked">
                        Vlocity
                    </label>
                </li>
                <li>
                    <input id="Custom_train_type" name="train_select" class="form-check-input" type="radio" value="" onclick="train_select()">
                    <label class="form-check-label" for="flexCheckChecked">
                        Use Custom Specs
                    </label>
                </li>
            </ul>
            <br><br>
        </div>

          <div id="input fields">
          <label for="linespeed">Line speed:</label><br>

          <input type="number" min="10" id="linespeed" class="inputs" placeholder="Linespeed (km/h)"><br><br>

          <label for="gradient">Gradient (optional):</label><br>

          <input type="number" id="gradient_input" class="inputs" placeholder="Gradient (%)"><br><br>
          <!-- <label for="start_chaianage">Enter start Chainage:</label><br>
          <input type="number" id="start_chaianage" class="inputs" placeholder="Start of journey (m)"><br><br>
          <label for="end_chainage">End Chainage:</label><br>
          <input type="number" id="end_chainage" class="inputs" placeholder="End of journey (m)"> -->
          </div>
          <br><br>
          <p>check general settings for <br>dwell time and sighting time.</p>
          <button class="btn btn-success" id="calc_btn" type="button" onclick="main();" > 
            Calculate Headways! 
        </button> 


        <p id="train_notes"></p><br><br>
        <p id="working_notes"></p>
        </div>


    <div class="grid-item">

        <h5>3 Aspect Headway</h5>
        <div class="image_container">
            <img src="media/3-aspect_signalling.PNG" alt="Snow" style="width:100%;">
            <!-- <div id="sighting_time" class="sighting_time">=sight</div>
            <div id ="serv_braking1" class="serv_braking1">=s_brakin</div>
            <div class="serv_braking2">=s_brakin</div>
            <div class="train_length">=tr_len </div>
            <div class="overlap">=O/lap </div>
            <div class="headway">=H/way </div> -->
        </div>
        <h5>Headway</h5>
        <div>
            <table class="table table-success table-striped">
                <tbody>
                    <tr>
                        <td>Headway Distance</td>
                        <td id="tab_three_asp_headway_distance">mmm</td>
                        <td id="tab_three_asp_headway_distance_km">mmm</td>
                    </tr>
                    <tr>
                        <td>Express Headway Time</td>
                        <td id="tab_three_asp_headway_time">sss</td>
                        <td id="tab_three_asp_headway_t">t/hr</td>
                    </tr>
                    <tr>
                        <td>Stopping Headway Time</td>
                        <td id="tab_three_asp_stopping_headway_time">sss</td>
                        <td id="tab_three_asp_stopping_headway_t">t/hr</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <h5>4 Aspect Headway</h5>
        <div class="image_container">
            <img src="media/4-aspect_signalling.PNG" alt="Snow" style="width:100%;">
            <!-- <div id="sighting_time" class="sighting_time">=sight</div>
            <div id ="serv_braking1" class="serv_braking1">=s_brakin</div>
            <div class="serv_braking2">=s_brakin</div>
            <div class="train_length">=tr_len </div>
            <div class="overlap">=O/lap </div>
            <div class="headway">=H/way </div> -->
        </div>
        <h5>Headway</h5>
        <div>
            <table class="table table-success table-striped">
                <tbody>
                    <tr>
                        <td>Headway Distance</td>
                        <td id="tab_four_asp_headway_distance">mmm</td>
                        <td id="tab_four_asp_headway_distance_km">mmm</td>
                    </tr>
                    <tr>
                        <td>Express Headway Time</td>
                        <td id="tab_four_asp_headway_time">sss</td>
                        <td id="tab_four_asp_headway_t">t/hr</td>
                    </tr>
                    <tr>
                        <td>Stopping Headway Time</td>
                        <td id="tab_four_asp_stopping_headway_time">sss</td>
                        <td id="tab_four_asp_stopping_headway_t">t/hr</td>
                    </tr>
                </tbody>
            </table>
        </div>


    </div>

    <div class="grid-item">
        <div id="signal_table">
            <h5>Calculation Inputs</h5>

            <table class="table table-success table-striped">
                <tbody>
                    <tr>
                        <td>Train Type</td>
                        <td id="tab_train_type" >-</td>
                    </tr>
                    <tr>
                        <td>Linespeed</td>
                        <td id="tab_linespeed" >m/s</td>
                    </tr>
                    <tr>
                        <td>Train Length</td>
                        <td id="tab_train_length" >mmm</td>
                    </tr>
                    <!-- <tr>
                        <td>Serv braking rate</td>
                        <td id="tab_serv_braking_rate" >sss</td>
                    </tr>
                    <tr>
                        <td>Emerg Braking rate</td>
                        <td id="tab_emerg_braking_rate" >sss</td>
                    </tr>
                    <tr>
                        <td>Acceleration rate</td>
                        <td id="tab_accel_rate" >sss</td>
                    </tr> -->
                    <tr>
                        <td>Dwell Time</td>
                        <td id="tab_dwell_time">sss</td>
                    </tr>
                    <tr>
                        <td>Sighting Time</td>
                        <td id="tab_sight_time">sss</td>
                    </tr>
                    <tr>
                        <td>Gradient</td>
                        <td id="tab_grad">%%%</td>
                    </tr>
                    <tr>
                        <td>Overlap Safety Margin</td>
                        <td>%%%</td>
                    </tr>
                    <tr>
                        <td>Signal Spacing Safety Margin</td>
                        <td>%%%</td>
                    </tr>
                </tbody>
              </table>

        <h5>Headway Stats</h5>

        <table class="table table-success table-striped">
            <tbody>
                <tr>
                    <td></td>
                    <td>Distance</td>
                    <td>Time</td>
                    <td>rate</td>
                </tr>
                <tr>
                    <td>Service Braking</td>
                    <td id="tab_serv_braking_distance" >mmm</td>
                    <td id="tab_serv_braking_time">sss</td>
                    <td id="tab_serv_braking_rate">m/s<sup>2</sup></td>
                </tr>
                <tr>
                    <td>Emergency Braking</td>
                    <td id="tab_emerg_braking_distance">mmm</td>
                    <td id="tab_emerg_braking_time">sss</td>
                    <td id="tab_emerg_braking_rate">m/s<sup>2</sup></td>
                </tr>
                <tr>
                    <td>Acceleration</td>
                    <td id="tab_accel_distance">mmm</td>
                    <td id="tab_accel_time">sss</td>
                    <td id="tab_accel_rate">m/s<sup>2</sup></td>
                </tr>
                <tr>
                    <td>Sighting</td>
                    <td id="tab_sight_distance">mmm</td>
                    <td id="tab_sight_time2">sss</td>
                    <td id="tab_sight_rate">m/s<sup>2</sup></td>
                </tr>


            </tbody>
          </table>






        <table id="" class="table table-success table-striped">
              <tbody id="t0signal/overlap">

              </tbody>
        </table>
        <button type="button" class="btn btn-success" onclick="add_signal_overlap()">Add Signal/Overlap</button>
        <button type="button" class="btn btn-danger" onclick="">Delete Signal/Overlap</button>
        </div>
    </div>



          <div class="grid-item">4</div>
          <div class="grid-item">5</div>
          <div class="grid-item">6</div>
          <div class="grid-item">7</div>
          <div class="grid-item">8</div>
          <div class="grid-item">9</div>
        <!-- end of grid container -->
        </div>

<!-- <div><br><br><br><br><br><br><br><br><br><br><br><br><br></div> -->

        <div id="calculator" style="width: max-width; height: 600px;">
        </div>



        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    </body>
</html>

